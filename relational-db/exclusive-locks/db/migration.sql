-- Create tables
DROP TABLE IF EXISTS seats;
DROP TABLE IF EXISTS seats_v2;
DROP TABLE IF EXISTS trips;
DROP TABLE IF EXISTS users;


CREATE TABLE IF NOT EXISTS users (
  id INTEGER PRIMARY KEY,
  name VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS trips (
  id INTEGER PRIMARY KEY
);

CREATE TABLE IF NOT EXISTS seats (
  id INTEGER PRIMARY KEY,
  number VARCHAR(50) NOT NULL,
  trip_id INTEGER NOT NULL REFERENCES trips(id),
  user_id INTEGER NULL REFERENCES users(id)
);

CREATE TABLE IF NOT EXISTS seats_v2 (
  id INTEGER PRIMARY KEY,
  number VARCHAR(50) NOT NULL,
  trip_id INTEGER NOT NULL REFERENCES trips(id),
  user_id INTEGER NULL REFERENCES users(id),
  version INTEGER NOT NULL DEFAULT 1
);

-- Seed one trip
INSERT INTO trips (id) VALUES (1);

-- Insert 100 users (IDs 1..100)
INSERT INTO users (id, name) VALUES
(1, 'user1'),
(2, 'user2'),
(3, 'user3'),
(4, 'user4'),
(5, 'user5'),
(6, 'user6'),
(7, 'user7'),
(8, 'user8'),
(9, 'user9'),
(10, 'user10'),
(11, 'user11'),
(12, 'user12'),
(13, 'user13'),
(14, 'user14'),
(15, 'user15'),
(16, 'user16'),
(17, 'user17'),
(18, 'user18'),
(19, 'user19'),
(20, 'user20'),
(21, 'user21'),
(22, 'user22'),
(23, 'user23'),
(24, 'user24'),
(25, 'user25'),
(26, 'user26'),
(27, 'user27'),
(28, 'user28'),
(29, 'user29'),
(30, 'user30'),
(31, 'user31'),
(32, 'user32'),
(33, 'user33'),
(34, 'user34'),
(35, 'user35'),
(36, 'user36'),
(37, 'user37'),
(38, 'user38'),
(39, 'user39'),
(40, 'user40'),
(41, 'user41'),
(42, 'user42'),
(43, 'user43'),
(44, 'user44'),
(45, 'user45'),
(46, 'user46'),
(47, 'user47'),
(48, 'user48'),
(49, 'user49'),
(50, 'user50'),
(51, 'user51'),
(52, 'user52'),
(53, 'user53'),
(54, 'user54'),
(55, 'user55'),
(56, 'user56'),
(57, 'user57'),
(58, 'user58'),
(59, 'user59'),
(60, 'user60'),
(61, 'user61'),
(62, 'user62'),
(63, 'user63'),
(64, 'user64'),
(65, 'user65'),
(66, 'user66'),
(67, 'user67'),
(68, 'user68'),
(69, 'user69'),
(70, 'user70'),
(71, 'user71'),
(72, 'user72'),
(73, 'user73'),
(74, 'user74'),
(75, 'user75'),
(76, 'user76'),
(77, 'user77'),
(78, 'user78'),
(79, 'user79'),
(80, 'user80'),
(81, 'user81'),
(82, 'user82'),
(83, 'user83'),
(84, 'user84'),
(85, 'user85'),
(86, 'user86'),
(87, 'user87'),
(88, 'user88'),
(89, 'user89'),
(90, 'user90'),
(91, 'user91'),
(92, 'user92'),
(93, 'user93'),
(94, 'user94'),
(95, 'user95'),
(96, 'user96'),
(97, 'user97'),
(98, 'user98'),
(99, 'user99'),
(100, 'user100');

-- Insert 100 seats for trip_id = 1, all unoccupied (user_id NULL)
INSERT INTO seats (id, number, trip_id, user_id) VALUES
(1, 'S1', 1, NULL),
(2, 'S2', 1, NULL),
(3, 'S3', 1, NULL),
(4, 'S4', 1, NULL),
(5, 'S5', 1, NULL),
(6, 'S6', 1, NULL),
(7, 'S7', 1, NULL),
(8, 'S8', 1, NULL),
(9, 'S9', 1, NULL),
(10, 'S10', 1, NULL),
(11, 'S11', 1, NULL),
(12, 'S12', 1, NULL),
(13, 'S13', 1, NULL),
(14, 'S14', 1, NULL),
(15, 'S15', 1, NULL),
(16, 'S16', 1, NULL),
(17, 'S17', 1, NULL),
(18, 'S18', 1, NULL),
(19, 'S19', 1, NULL),
(20, 'S20', 1, NULL),
(21, 'S21', 1, NULL),
(22, 'S22', 1, NULL),
(23, 'S23', 1, NULL),
(24, 'S24', 1, NULL),
(25, 'S25', 1, NULL),
(26, 'S26', 1, NULL),
(27, 'S27', 1, NULL),
(28, 'S28', 1, NULL),
(29, 'S29', 1, NULL),
(30, 'S30', 1, NULL),
(31, 'S31', 1, NULL),
(32, 'S32', 1, NULL),
(33, 'S33', 1, NULL),
(34, 'S34', 1, NULL),
(35, 'S35', 1, NULL),
(36, 'S36', 1, NULL),
(37, 'S37', 1, NULL),
(38, 'S38', 1, NULL),
(39, 'S39', 1, NULL),
(40, 'S40', 1, NULL),
(41, 'S41', 1, NULL),
(42, 'S42', 1, NULL),
(43, 'S43', 1, NULL),
(44, 'S44', 1, NULL),
(45, 'S45', 1, NULL),
(46, 'S46', 1, NULL),
(47, 'S47', 1, NULL),
(48, 'S48', 1, NULL),
(49, 'S49', 1, NULL),
(50, 'S50', 1, NULL),
(51, 'S51', 1, NULL),
(52, 'S52', 1, NULL),
(53, 'S53', 1, NULL),
(54, 'S54', 1, NULL),
(55, 'S55', 1, NULL),
(56, 'S56', 1, NULL),
(57, 'S57', 1, NULL),
(58, 'S58', 1, NULL),
(59, 'S59', 1, NULL),
(60, 'S60', 1, NULL),
(61, 'S61', 1, NULL),
(62, 'S62', 1, NULL),
(63, 'S63', 1, NULL),
(64, 'S64', 1, NULL),
(65, 'S65', 1, NULL),
(66, 'S66', 1, NULL),
(67, 'S67', 1, NULL),
(68, 'S68', 1, NULL),
(69, 'S69', 1, NULL),
(70, 'S70', 1, NULL),
(71, 'S71', 1, NULL),
(72, 'S72', 1, NULL),
(73, 'S73', 1, NULL),
(74, 'S74', 1, NULL),
(75, 'S75', 1, NULL),
(76, 'S76', 1, NULL),
(77, 'S77', 1, NULL),
(78, 'S78', 1, NULL),
(79, 'S79', 1, NULL),
(80, 'S80', 1, NULL),
(81, 'S81', 1, NULL),
(82, 'S82', 1, NULL),
(83, 'S83', 1, NULL),
(84, 'S84', 1, NULL),
(85, 'S85', 1, NULL),
(86, 'S86', 1, NULL),
(87, 'S87', 1, NULL),
(88, 'S88', 1, NULL),
(89, 'S89', 1, NULL),
(90, 'S90', 1, NULL),
(91, 'S91', 1, NULL),
(92, 'S92', 1, NULL),
(93, 'S93', 1, NULL),
(94, 'S94', 1, NULL),
(95, 'S95', 1, NULL),
(96, 'S96', 1, NULL),
(97, 'S97', 1, NULL),
(98, 'S98', 1, NULL),
(99, 'S99', 1, NULL),
(100, 'S100', 1, NULL);

-- Insert 100 seats for trip_id = 1, all unoccupied (user_id NULL)
INSERT INTO seats_v2 (id, number, trip_id, user_id, version) VALUES
(1, 'S1', 1, NULL, 1),
(2, 'S2', 1, NULL, 1),
(3, 'S3', 1, NULL, 1),
(4, 'S4', 1, NULL, 1),
(5, 'S5', 1, NULL, 1),
(6, 'S6', 1, NULL, 1),
(7, 'S7', 1, NULL, 1),
(8, 'S8', 1, NULL, 1),
(9, 'S9', 1, NULL, 1),
(10, 'S10', 1, NULL, 1),
(11, 'S11', 1, NULL, 1),
(12, 'S12', 1, NULL, 1),
(13, 'S13', 1, NULL, 1),
(14, 'S14', 1, NULL, 1),
(15, 'S15', 1, NULL, 1),
(16, 'S16', 1, NULL, 1),
(17, 'S17', 1, NULL, 1),
(18, 'S18', 1, NULL, 1),
(19, 'S19', 1, NULL, 1),
(20, 'S20', 1, NULL, 1),
(21, 'S21', 1, NULL, 1),
(22, 'S22', 1, NULL, 1),
(23, 'S23', 1, NULL, 1),
(24, 'S24', 1, NULL, 1),
(25, 'S25', 1, NULL, 1),
(26, 'S26', 1, NULL, 1),
(27, 'S27', 1, NULL, 1),
(28, 'S28', 1, NULL, 1),
(29, 'S29', 1, NULL, 1),
(30, 'S30', 1, NULL, 1),
(31, 'S31', 1, NULL, 1),
(32, 'S32', 1, NULL, 1),
(33, 'S33', 1, NULL, 1),
(34, 'S34', 1, NULL, 1),
(35, 'S35', 1, NULL, 1),
(36, 'S36', 1, NULL, 1),
(37, 'S37', 1, NULL, 1),
(38, 'S38', 1, NULL, 1),
(39, 'S39', 1, NULL, 1),
(40, 'S40', 1, NULL, 1),
(41, 'S41', 1, NULL, 1),
(42, 'S42', 1, NULL, 1),
(43, 'S43', 1, NULL, 1),
(44, 'S44', 1, NULL, 1),
(45, 'S45', 1, NULL, 1),
(46, 'S46', 1, NULL, 1),
(47, 'S47', 1, NULL, 1),
(48, 'S48', 1, NULL, 1),
(49, 'S49', 1, NULL, 1),
(50, 'S50', 1, NULL, 1),
(51, 'S51', 1, NULL, 1),
(52, 'S52', 1, NULL, 1),
(53, 'S53', 1, NULL, 1),
(54, 'S54', 1, NULL, 1),
(55, 'S55', 1, NULL, 1),
(56, 'S56', 1, NULL, 1),
(57, 'S57', 1, NULL, 1),
(58, 'S58', 1, NULL, 1),
(59, 'S59', 1, NULL, 1),
(60, 'S60', 1, NULL, 1),
(61, 'S61', 1, NULL, 1),
(62, 'S62', 1, NULL, 1),
(63, 'S63', 1, NULL, 1),
(64, 'S64', 1, NULL, 1),
(65, 'S65', 1, NULL, 1),
(66, 'S66', 1, NULL, 1),
(67, 'S67', 1, NULL, 1),
(68, 'S68', 1, NULL, 1),
(69, 'S69', 1, NULL, 1),
(70, 'S70', 1, NULL, 1),
(71, 'S71', 1, NULL, 1),
(72, 'S72', 1, NULL, 1),
(73, 'S73', 1, NULL, 1),
(74, 'S74', 1, NULL, 1),
(75, 'S75', 1, NULL, 1),
(76, 'S76', 1, NULL, 1),
(77, 'S77', 1, NULL, 1),
(78, 'S78', 1, NULL, 1),
(79, 'S79', 1, NULL, 1),
(80, 'S80', 1, NULL, 1),
(81, 'S81', 1, NULL, 1),
(82, 'S82', 1, NULL, 1),
(83, 'S83', 1, NULL, 1),
(84, 'S84', 1, NULL, 1),
(85, 'S85', 1, NULL, 1),
(86, 'S86', 1, NULL, 1),
(87, 'S87', 1, NULL, 1),
(88, 'S88', 1, NULL, 1),
(89, 'S89', 1, NULL, 1),
(90, 'S90', 1, NULL, 1),
(91, 'S91', 1, NULL, 1),
(92, 'S92', 1, NULL, 1),
(93, 'S93', 1, NULL, 1),
(94, 'S94', 1, NULL, 1),
(95, 'S95', 1, NULL, 1),
(96, 'S96', 1, NULL, 1),
(97, 'S97', 1, NULL, 1),
(98, 'S98', 1, NULL, 1),
(99, 'S99', 1, NULL, 1),
(100, 'S100', 1, NULL, 1);